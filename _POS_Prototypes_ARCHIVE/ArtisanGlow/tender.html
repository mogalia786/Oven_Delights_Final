<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Artisan Glow POS - Tender</title>
  <style>
    :root{--espresso:#3B2F2F;--almond:#EADAC1;--honey:#F5B942;--cream:#FAF7F2}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:radial-gradient(1200px 800px at 10% 0%, #fff6e5 0%, #fff 40%, #f7f3ea 60%, #efe9e0 100%)}
    header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(0deg, rgba(255,255,255,.7), rgba(255,255,255,.95));border-bottom:1px solid #e9e3da}
    .brand{font-family:'Playfair Display',Georgia,serif;color:var(--espresso);font-size:22px}
    .container{display:grid;grid-template-columns:2fr 1fr;gap:12px;padding:16px}
    .panel{background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.06);border-radius:16px;box-shadow:0 2px 24px rgba(0,0,0,.08)}
    .summary{padding:16px}
    .summary h3{margin:0 0 10px 0}
    .line{display:flex;justify-content:space-between;border-bottom:1px dashed #e7dcc9;padding:6px 0}
    .tot{border-top:1px solid #e7dcc9;margin-top:10px;padding-top:10px;font-size:18px}
    .tenders{padding:16px;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
    .hero{width:100%;height:140px;object-fit:cover;border-top-left-radius:16px;border-top-right-radius:16px;border-bottom:1px solid #e9e3da}
    .drawer{width:100%;height:120px;object-fit:cover;border-radius:12px;border:1px solid #e9e3da}
    .btn{padding:14px;border-radius:12px;border:1px solid #e7dcc9;background:#fff;cursor:pointer;text-align:center;font-weight:600}
    .btn.primary{background:var(--espresso);color:#fff;border:none}
    .row{display:flex;gap:8px}
    .input{flex:1;padding:12px;border-radius:10px;border:1px solid #e6dccb}
    .actions{display:flex;gap:10px;justify-content:flex-end;padding:16px}
    a{color:inherit;text-decoration:none}

    /* Receipt preview */
    .receipt{background:#fff;border:1px solid #e9e3da;border-radius:12px;padding:14px;margin:12px 16px;box-shadow:inset 0 1px 0 rgba(0,0,0,.03)}
    .receipt header{display:flex;justify-content:space-between;align-items:center;background:none;border:none;color:#5b4b4b;padding:0;margin-bottom:8px}
    .receipt .logo{height:36px}
    .receipt .rl{display:flex;justify-content:space-between;border-bottom:1px dashed #e7dcc9;padding:6px 0}
    .muted{color:#766d6d;font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="brand">Oven Delights — Tender</div>
    <div>Order #T-001245</div>
  </header>
  <div class="container">
    <section class="panel summary">
      <h3>Order Summary</h3>
      <div id="sumLines"></div>
      <div class="line"><span>Subtotal</span><strong id="sumSub">R 0.00</strong></div>
      <div class="line"><span>VAT (15%)</span><strong id="sumVat">R 0.00</strong></div>
      <div class="tot"><span>Total</span><strong id="sumTotal">R 0.00</strong></div>
      <div class="receipt">
        <header>
          <img class="logo" src="file:///C:/Users/mogal/Pictures/Screenshots/Screenshot%202025-07-26%20024200.png" alt="Oven Delights"/>
          <div class="muted">Oven Delights • Tender Preview</div>
        </header>
        <div id="rcptLines"></div>
        <div class="rl"><span>Subtotal</span><strong id="rcptSub">R 0.00</strong></div>
        <div class="rl"><span>VAT (15%)</span><strong id="rcptVat">R 0.00</strong></div>
        <div class="rl" style="font-weight:700"><span>Total</span><strong id="rcptTot">R 0.00</strong></div>
        <div class="muted">Thank you for shopping with us!</div>
      </div>
    </section>
    <section class="panel">
      <img class="hero" src="https://images.unsplash.com/photo-1556745757-8d76bdb6984b?q=80&w=1200&auto=format&fit=crop" alt="Tender Payment"/>
      <div class="tenders">
        <div class="btn">Cash (F1)</div>
        <div class="btn">Card (F2)</div>
        <div class="btn">Voucher (F3)</div>
        <div class="btn">Account (F4)</div>
        <div class="btn">Split (F5)</div>
        <div class="btn">Loyalty (F6)</div>
      </div>
      <div class="summary">
        <div class="row">
          <input class="input" placeholder="Amount received (for Cash)" />
          <div class="btn">Exact</div>
        </div>
      </div>
      <div class="actions">
        <a class="btn" href="index.html">Back</a>
        <a class="btn primary" id="btnComplete" href="complete.html">Complete Sale (F12)</a>
      </div>
      <div class="summary">
        <img class="drawer" src="https://images.unsplash.com/photo-1603252109303-2751441dd157?q=80&w=1200&auto=format&fit=crop" alt="Cash Drawer"/>
      </div>
    </section>
  </div>
  <script>
    const VAT = 0.15;
    function format(n){ return 'R ' + n.toFixed(2); }
    function renderFromStorage(){
      let items = [];
      try{ items = JSON.parse(localStorage.getItem('pos_cart')||'[]') || []; }catch{}
      const sumLines = document.getElementById('sumLines');
      const rcptLines = document.getElementById('rcptLines');
      sumLines.innerHTML = '';
      rcptLines.innerHTML = '';
      let sub = 0;
      items.forEach(it =>{
        const line = document.createElement('div');
        line.className = 'line';
        line.innerHTML = `<span>${it.name} × ${it.qty}</span><strong>${format(it.qty * it.price)}</strong>`;
        sumLines.appendChild(line);
        const rl = document.createElement('div');
        rl.className = 'rl';
        rl.innerHTML = `<span>${it.name} × ${it.qty}</span><strong>${format(it.qty * it.price)}</strong>`;
        rcptLines.appendChild(rl);
        sub += it.qty * it.price;
      });
      const vat = Math.round((sub * VAT) * 100)/100;
      const tot = Math.round((sub + vat) * 100)/100;
      document.getElementById('sumSub').textContent = format(sub);
      document.getElementById('sumVat').textContent = format(vat);
      document.getElementById('sumTotal').textContent = format(tot);
      document.getElementById('rcptSub').textContent = format(sub);
      document.getElementById('rcptVat').textContent = format(vat);
      document.getElementById('rcptTot').textContent = format(tot);
    }
    renderFromStorage();
    // Clear cart on complete
    document.getElementById('btnComplete').addEventListener('click', ()=>{
      localStorage.removeItem('pos_cart');
    });
  </script>
</body>
</html>
